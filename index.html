<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Clock</title>
    <style>
        /* CSS STYLES */
        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", sans-serif;
            background: #000; overflow: hidden;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }

        .screen {
            width: 100%; height: 100%;
            position: absolute; top: 0; left: 0;
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .hidden { display: none; }

        /* Lock Screen */
        .wallpaper {
            position: absolute; width: 100%; height: 100%;
            background: url('https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?auto=format&fit=crop&w=1000&q=80');
            background-size: cover; background-position: center;
            filter: blur(25px) brightness(0.8);
            transform: scale(1.1);
        }

        .content {
            position: relative; z-index: 10;
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; height: 100%; color: white;
        }

        .header { text-align: center; margin-bottom: 40px; }
        .lock-icon { font-size: 24px; margin-bottom: 10px; display: block; }
        .header p { font-size: 18px; font-weight: 400; margin: 0; }

        /* Pincode Dots */
        .dots { display: flex; gap: 20px; margin-bottom: 60px; }
        .dot { width: 12px; height: 12px; border: 1.5px solid white; border-radius: 50%; }
        .dot.filled { background: white; }

        /* Keypad */
        .keypad {
            display: grid; grid-template-columns: repeat(3, 80px);
            gap: 15px 25px;
        }
        .keypad button {
            width: 80px; height: 80px; border-radius: 50%;
            background: rgba(255,255,255,0.15); border: none;
            color: white; font-size: 32px; backdrop-filter: blur(15px);
            cursor: pointer; transition: background 0.1s;
        }
        .keypad button:active { background: rgba(255,255,255,0.4); }
        .empty { width: 80px; }

        /* Alarm Screen */
        #alarm-screen { background: #000; color: white; padding-top: 60px; overflow-y: auto; }
        .alarm-header {
            display: flex; justify-content: space-between; padding: 0 20px;
            color: #ff9f0a; font-size: 17px; align-items: center;
            margin-bottom: 20px;
        }
        .alarm-header .title { color: white; font-size: 34px; font-weight: bold; }

        .alarm-list { border-top: 0.5px solid #222; }
        .alarm-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 20px; border-bottom: 0.5px solid #222;
        }
        .time { font-size: 50px; font-weight: 200; line-height: 1; }
        .time span { font-size: 20px; margin-left: 2px; }
        
        .off .time, .off .label { color: #8e8e93; }

        /* iOS Switch Toggle Styling */
        .toggle-bg {
            width: 51px; height: 31px; border-radius: 15.5px;
            background: #34c759; position: relative;
        }
        .toggle-off { background: #333; }
        .toggle-knob {
            width: 27px; height: 27px; background: white;
            border-radius: 50%; position: absolute; right: 2px; top: 2px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
        }
        .toggle-off .toggle-knob { left: 2px; right: auto; }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-15px); }
            40%, 80% { transform: translateX(15px); }
        }
        .shake { animation: shake 0.4s ease-in-out; }
    </style>
</head>
<body>

    <div id="lock-screen" class="screen">
        <div class="wallpaper"></div>
        <div class="content">
            <div class="header">
                <span class="lock-icon">ðŸ”’</span>
                <p id="instruction-text">Enter Passcode</p>
            </div>
            <div class="dots" id="dot-container">
                <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
            <div class="keypad">
                <button onclick="press('1')">1</button>
                <button onclick="press('2')">2</button>
                <button onclick="press('3')">3</button>
                <button onclick="press('4')">4</button>
                <button onclick="press('5')">5</button>
                <button onclick="press('6')">6</button>
                <button onclick="press('7')">7</button>
                <button onclick="press('8')">8</button>
                <button onclick="press('9')">9</button>
                <div class="empty"></div>
                <button onclick="press('0')">0</button>
                <div class="empty"></div>
            </div>
        </div>
    </div>

    <div id="alarm-screen" class="screen hidden">
        <div class="alarm-header">
            <span>Edit</span>
            <span class="title">Alarm</span>
            <span class="plus" style="font-size: 30px;">+</span>
        </div>
        <div id="alarm-list">
            <div class="alarm-item off">
                <div class="time">07:00<span>AM</span></div>
                <div class="toggle-bg toggle-off"><div class="toggle-knob"></div></div>
            </div>
            <div class="alarm-item off">
                <div class="time">08:30<span>AM</span></div>
                <div class="toggle-bg toggle-off"><div class="toggle-knob"></div></div>
            </div>
            <div class="alarm-item off">
                <div class="time">09:15<span>AM</span></div>
                <div class="toggle-bg toggle-off"><div class="toggle-knob"></div></div>
            </div>
            <div class="alarm-item off">
                <div class="time">10:00<span>AM</span></div>
                <div class="toggle-bg toggle-off"><div class="toggle-knob"></div></div>
            </div>
            <div class="alarm-item off">
                <div class="time">11:45<span>AM</span></div>
                <div class="toggle-bg toggle-off"><div class="toggle-knob"></div></div>
            </div>
        </div>
    </div>

    <script>
        let input = "";
        const dots = document.querySelectorAll('.dot');
        const lockScreen = document.getElementById('lock-screen');
        const alarmScreen = document.getElementById('alarm-screen');
        const dotContainer = document.getElementById('dot-container');

        function press(num) {
            if (input.length < 4) {
                input += num;
                dots[input.length - 1].classList.add('filled');
                
                if (input.length === 4) {
                    setTimeout(validate, 250);
                }
            }
        }

        function validate() {
            // FAKE FAIL TRIGGER: If you enter 0000, it shakes and fails.
            if (input === "0000") {
                dotContainer.classList.add('shake');
                setTimeout(() => {
                    input = "";
                    dotContainer.classList.remove('shake');
                    dots.forEach(d => d.classList.remove('filled'));
                }, 500);
            } else {
                unlock(input);
            }
        }

        function unlock(code) {
            // The Twist: Reverse the 4 digits (e.g., 1234 -> 43:21)
            const reversed = code.split('').reverse().join('');
            const magicTime = reversed.substring(0, 2) + ":" + reversed.substring(2, 4);
            
            // Create the magic alarm element
            const magicAlarm = document.createElement('div');
            magicAlarm.className = "alarm-item";
            magicAlarm.innerHTML = `
                <div class="time">${magicTime}</div>
                <div class="toggle-bg"><div class="toggle-knob"></div></div>
            `;

            // Insert at the top
            document.getElementById('alarm-list').prepend(magicAlarm);

            // Animate transition (iOS slide up effect)
            lockScreen.style.transform = "translateY(-100%)";
            setTimeout(() => {
                lockScreen.classList.add('hidden');
                alarmScreen.classList.remove('hidden');
            }, 600);
        }
    </script>
</body>
</html>
